# Kismet configuration for WiFi probe collection
# Optimized for lightweight probe tracking with regular data uploads

# Configuration directory
configdir=/usr/local/etc

# Server settings
server_name=rpi-kismet
server_description=WiFi Probe Collector

# Logging configuration
log_types=kismet
log_title=rpi-kismet
log_prefix=/home/toor

# Database settings - only log devices, skip packets and alerts for efficiency
db_log_devices=true
db_log_packets=false
db_log_alerts=false

# Device timeout settings
# Keep devices for 30 minutes to ensure reliable uploads every 5 minutes
device_timeout=1800
tracker_device_timeout=1800

# Disable unnecessary logging timeouts since we're not logging packets/alerts
# kis_log_packet_timeout=900
# kis_log_alert_timeout=900

# Memory management - purge old data more aggressively
tracker_max_devices=10000
memory_debug=false

# Channel hopping settings for better probe detection
channel_hop=true
channel_hop_speed=1
channel_hop_dwell=3

# WiFi source configuration
source=wlan1:name=wlan1,hop=true

# Tracker filter - only track WiFi clients that have sent probe requests
# Note: This may not work perfectly due to Kismet timing, so we also filter in upload script
tracker_filter=TRACKERELEMENT(kismet.device.base.type) == "Wi-Fi Client" AND TRACKERELEMENT(dot11.device/dot11.device.num_probed_ssids) > 0

# Disable unnecessary features to save resources
pcap_dispatch_warning=false
alertbacklog=0

# Reduce logging verbosity
quiet=true
silent=false

# Web interface - completely disabled
httpd_enable=false

# GPS settings (disable if no GPS)
gps=false

# Disable sound alerts
sound=false
speech=false

# Performance tuning
buffer_mbytes=64
tune_time=10

# Location settings (set to false if no location data needed)
track_device_seenby_view=false
track_device_phy_view=false
